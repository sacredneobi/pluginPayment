### Ответ от плагина на генерирование ссылки

<pre>{
  url: "http://payment.xxx",     // Ссылка для перехода на форму оплаты
  transactionId: "XXX",          // Номер транзакции, нужен для проверки факта оплаты по статусу
  done:true,                     // Факт успешного завершения
  other:{"todo":"redirect"},     // Произвольные данные которые будут сохранены для заказа в
  ext: true,                     // ext - для открытия во встроенном окне, false или убрать для открытия как отдельного окна
  externalService: false,        // true - Кнопка под сообщением, необходимо заполнить поля в отделе на вкладке дополнительно, false - не используется
  orderSum : 100,                // Сумма оплаты, если допустим сервис использует конвертацию валюты
  currency : " USD",             // Название валюты после конвертации или просто валюта для отображения в конке к заказу
  exchangeCurrency: "USD",       // Валюта из которой конвертировалось
  error: "text error"            // Текст ошибка при создании ссылки
}
</pre>

### Ответ от плагина на проверку оплаты

<pre>
{
  isPayment:true,                // Успешная оплата
  failed:false,                  // Если была ошибка
  done:true,                     // Завершенная операции
  other:{"transaction":"XXX"}    // Произвольные данные которые будут сохранены для заказа в
  error: "text error"            // Текст ошибка при создании ссылки
}
</pre>

### Получаемы параметры

1. <b>login</b> - после отдельное в окне оплаты (передается всегда)
2. <b>password</b> - после отдельное в окне оплаты (передается всегда)
3. <b>pluginData</b> - Дополнительные параметры для плагина, передается в виде текста, нужно парсить (передается всегда )
4. <b>exchange</b> - Отдельное поле на форме оплаты, передается при создании ссылки
5. <b>type</b> - Параметр типа запроса, зависит от состояния на текущий момент может быть getLink, checkPayment первый для генерации ссылки на оплату, второй для проверки факта оплаты
6. <b>order</b> - Состав заказа для расчета или отображение данных для платежного сервиса, также с суммами для разделения при необходимости
7. <b>transactionId</b> - Передается в момент проверки оплаты

### Property order

<pre>
  {
    currency,              //Код валюты с формы магазина
    id,                    //Номер заказа
    description,           //Описание из заказа и ник клиента
    items: [               //Список позиций, в том числе и доставки
      { 
        label,             //Название позиции
        amount             //Сумма позиции
      }
    ],
    sum: {                 //Суммы раздельно
      promo,               //Промокод
      delivery,            //Стоимость доставки
      deliveryZone,        //Стоимость доставки по зоне
      full,                //Полная сумма заказа
    },
    client: {              //Клиент
      caption,             //Заголовок клиента
      description,         //Описание клиента
      userName,            //Ник клиента
    },
    delivery: {            //Доставка
      caption,             //Название
      description,         //Описание
    },
    deliveryAddress: {     //Адрес доставки
      pluginData,          //Данные из плагина доставки
      pluginId,            //Идентификатор доставки из плагина доставки
      full,                //Полный адрес
      coordinates,         //Координаты доставки
      street,              //Улица
      house,               //Дом
      apartment,           //Квартира
      entrance,            //Подъезд
      floor,               //Этаж
      doorCode,            //КОд домофона
    }
  }
  </pre>
